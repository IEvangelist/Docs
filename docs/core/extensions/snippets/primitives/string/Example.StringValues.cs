using System;
using Microsoft.Extensions.Primitives;

internal static partial class Example
{
    public static void ShowStringValues()
    {
        StringValues values =
            new(s_fiftyAutoGeneratedParagraphsOfLoremIpsum.Split(
                new[] { '\n' }, StringSplitOptions.RemoveEmptyEntries));

        Console.WriteLine($"Count = {values.Count}");

        foreach (string? value in values)
        {
            Console.WriteLine(Truncate(value));
        }
    }

    static string Truncate(string value, int length = 90)
    {
        if (string.IsNullOrWhiteSpace(value))
        {
            return value ?? string.Empty;
        }

        value = value!.Trim();
        return value.Length > length
            ? string.Concat(value.AsSpan(0, length), "...")
            : value ?? string.Empty;
    }
}
